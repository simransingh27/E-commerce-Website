@model Vendi.Data.Service
@{
    ViewBag.Title = "Image Uploader";
}
<link href="~/css/ImageUploaderCSS/basic.css" rel="stylesheet" />
<link href="~/css/ImageUploaderCSS/dropzone.css" rel="stylesheet" />

<script src="~/js/ImageUploaderJS/dropzone.js"></script>
<script src="~/js/ImageUploaderJS/dropzone-amd-module.js"></script>


<div class="single-product-area section-padding-100 clearfix">
    <div class="container-fluid">

        <!--Wizerd steps start-->

        <div class="row relative-row bs-wizard" style="border-bottom:0;">

            <div class="col-md-3 bs-wizard-step complete ">
                <div class="text-center bs-wizard-stepnum complete">Create Service</div>
                <div class="progress">
                    <div class="progress-bar"></div>
                </div>
                <a class="bs-wizard-dot"></a>
            </div>

            <div class="col-md-3 bs-wizard-step complete ">
                <!-- complete -->
                <div class="text-center bs-wizard-stepnum complete">Feature</div>
                <div class="progress">
                    <div class="progress-bar"></div>
                </div>
                <a class="bs-wizard-dot"></a>

            </div>
            <div class="col-md-3 bs-wizard-step complete ">
                <!-- complete -->
                <div class="text-center bs-wizard-stepnum complete ">Business Address</div>
                <div class="progress">
                    <div class="progress-bar"></div>
                </div>
                <a class="bs-wizard-dot"></a>

            </div>
            <div class="col-md-3 bs-wizard-step active ">
                <!-- complete -->
                <div class="text-center bs-wizard-stepnum active">Image</div>
                <div class="progress">
                    <div class="progress-bar"></div>
                </div>
                <a class="bs-wizard-dot"></a>

            </div>
        </div>
    </div>
    <!--Wizerd steps Ends-->
    <!-- Satrtt -->
    <div class="row">
        <div class="col-md-12">
            <h5>The Maximun Number Of Images is 1</h5>
            <form asp-action="UploadServiceImage" asp-controller="Services" class="dropzone" id="dropzoneJsForm">
                <input asp-for="ServiceId" hidden="hidden" value="@Model.ServiceId" />
            </form>
            <br />
            <button id="submit-all" type="submit" class="btn amado-btn mb-15">Next</button>
            <a id="btn-done" class="btn amado-btn mb-15" href="/Services/Details/@Model.ServiceId">Done</a>
        </div>
    </div>
</div>
</div>


@section scripts {
    <script type="text/javascript">
                    $(document).ready(function () {
                        $("#btn-done").hide();
                    });
                    Dropzone.options.dropzoneJsForm = {
                        //prevents Dropzone from uploading dropped files immediately
                        autoProcessQueue: false,
                        init: function () {
                            var submitButton = document.querySelector("#submit-all");
                            var myDropzone = this; //closure
                            submitButton.addEventListener("click", function () {
                                //tell Dropzone to process all queued files
                                myDropzone.processQueue();
                                $("#btn-done").show();
                                $("#submit-all").hide();
                            });
                        }
                    };
    </script>
}
